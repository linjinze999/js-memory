(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{337:function(t,e,n){},360:function(t,e,n){"use strict";function s(t){return new Promise((function(e,n){var s=t.name,a=new FileReader;a.onload=function(t){e({name:s,text:t.target.result})},a.onerror=function(){n()},a.readAsText(t)}))}Object.defineProperty(e,"__esModule",{value:!0}),e.readFiles=void 0,e.readFiles=function(t){for(var e=[],n=0;n<t.length;n++)e.push(s(t[n]));return Promise.all(e)}},361:function(t,e,n){"use strict";n(337)},370:function(t,e,n){"use strict";n.r(e);var s=n(34),a=n(360);const{mapState:i,mapGetters:o,mapActions:c}=Object(s.a)("V8Snapshot");var r={name:"V8SnapshotFiles",data:()=>({dialogImageUrl:"",dialogVisible:!1,disabled:!1}),computed:{...i({snapshotList:t=>t.snapshotList}),...o(["activeSnapshot"])},methods:{showInput(){this.$refs.input.dispatchEvent(new MouseEvent("click"))},onInput(){Object(a.readFiles)(this.$refs.input.files).then(t=>{this.addSnapshot(t)}).catch(()=>{this.$message.error("读取文件出错")})},onRemove(t){this.$confirm(`是否删除《${t.name}》`,"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{this.removeSnapshot({snapshotList:[t]})}).catch(()=>{})},updateActive(t){this.updateActiveSnapshot(t)},...c(["addSnapshot","updateActiveSnapshot","removeSnapshot"])}},p=(n(361),n(20)),l=Object(p.a)(r,(function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"snapshot-header"},[t._v("\n    当前快照：\n  ")]),t._v(" "),e("div",{staticClass:"snapshot-list"},[e("input",{ref:"input",staticClass:"input",attrs:{type:"file",accept:".heapsnapshot"},on:{change:t.onInput}}),t._v(" "),t._l(t.snapshotList,(function(n){return e("div",{directives:[{name:"loading",rawName:"v-loading",value:n.progress<1,expression:"item.progress < 1"}],key:n.name,staticClass:"item",class:{active:n.id===t.activeSnapshot.id},attrs:{"element-loading-text":n.progressText,title:n.name},on:{click:function(e){return t.updateActive(n)}}},[e("span",{staticClass:"text"},[t._v(t._s(n.name))]),t._v(" "),1!==n.id?e("i",{staticClass:"el-icon-delete delete",on:{click:function(e){return t.onRemove(n)}}}):t._e()])})),t._v(" "),e("i",{staticClass:"el-icon-plus item add",on:{click:t.showInput}})],2)])}),[],!1,null,"237c0544",null);e.default=l.exports}}]);