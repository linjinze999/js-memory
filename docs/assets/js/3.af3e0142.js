(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{338:function(e,t,a){},360:function(e,t,a){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,a=1,n=arguments.length;a<n;a++)for(var s in t=arguments[a])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.getNodeShowInfo=void 0;var s=a(64),o=a(126);t.getNodeShowInfo=function(e){var t=e.edge,a=e.node,r=e.totalSize;return n(n(n({},a),t),{distanceShow:a.distance>=o.V8SnapshotInfo.BASE_SYSTEM_DISTANCE?"-":a.distance,nameShow:a.type===s.V8SnapshotNodeTypes.concatenated_string||a.type===s.V8SnapshotNodeTypes.string?'"'.concat(a.name,'"'):a.type===s.V8SnapshotNodeTypes.regexp?"/".concat(a.name,"/"):a.type===s.V8SnapshotNodeTypes.closure?"".concat(a.name,"()"):a.type===s.V8SnapshotNodeTypes.array?"".concat(a.name||"(internal array)","[]"):a.name,nameShowStyle:{color:a.type===s.V8SnapshotNodeTypes.concatenated_string||a.type===s.V8SnapshotNodeTypes.string||a.type===s.V8SnapshotNodeTypes.regexp?"rgb(200,0,0)":a.type===s.V8SnapshotNodeTypes.closure?void 0:a.type===s.V8SnapshotNodeTypes.bigint?"rgb(35,110,37)":a.type===s.V8SnapshotNodeTypes.number?"rgb(26,26,166)":a.type===s.V8SnapshotNodeTypes.hidden||a.type===s.V8SnapshotNodeTypes.object_shape?"#909399":void 0,fontStyle:a.type===s.V8SnapshotNodeTypes.closure?"italic":void 0},nameShowPrefix:t.type===s.V8SnapshotEdgeTypes.element?"[".concat(t.name_or_index,"]"):t.name_or_index,nameShowPrefixStyle:{color:[s.V8SnapshotEdgeTypes.internal,s.V8SnapshotEdgeTypes.hidden,s.V8SnapshotEdgeTypes.weak].indexOf(t.type)>-1?"#909399":t.type===s.V8SnapshotEdgeTypes.context?"rgb(26,26,166)":"rgb(136,18,128)"},reachableFromWindow:a.type===s.V8SnapshotNodeTypes.string||a.type===s.V8SnapshotNodeTypes.object&&0===a.name.indexOf("Window")||Boolean(a.flag&o.V8SnapshotInfo.NODE_FLAGS.canBeQueried),detachedDOMTreeNode:Boolean(a.flag&o.V8SnapshotInfo.NODE_FLAGS.detachedDOMTreeNode),selfSizePercent:Math.round(100*a.self_size/r),retainedSizePercent:Math.round(100*a.retained_size/r)})}},361:function(e,t,a){"use strict";a(338)},371:function(e,t,a){"use strict";a.r(t);var n=a(34),s=a(360);const{mapGetters:o}=Object(n.a)("V8Snapshot");var r={name:"V8SnapshotContainment",data:()=>({currentNode:null}),computed:{rootList(){return this.getNodeChildren()},totalSize(){return this.activeSnapshot&&this.activeSnapshot.snapshot&&this.activeSnapshot.snapshot.calculateStatistics().total||9999999999},currentNodeParents(){return this.currentNode?this.getNodeParents(this.currentNode.id):[]},...o(["activeSnapshot"])},methods:{load(e,t,a){if(!this.activeSnapshot||!this.activeSnapshot.snapshot)return void a([]);a(this.getNodeChildren(e.id))},getNodeChildren(e){return this.activeSnapshot&&this.activeSnapshot.snapshot?this.activeSnapshot.snapshot.getNodeChildren(e).map(e=>{const{node:t,edge:a}=e,n=this.activeSnapshot.snapshot.snapshot_info.edges[t.id];return{...Object(s.getNodeShowInfo)({node:t,edge:a,totalSize:this.totalSize}),rowKey:`${a.name_or_index}_${a.to_node}`,hasChildren:!(!n||!n.length)}}):[]},loadParents(e,t,a){if(!this.activeSnapshot||!this.activeSnapshot.snapshot)return void a([]);a(this.getNodeParents(e.id))},getNodeParents(e){return this.activeSnapshot&&this.activeSnapshot.snapshot?this.activeSnapshot.snapshot.getNodeParents(e).map(e=>{const{node:t,edge:a}=e,n=this.activeSnapshot.snapshot.snapshot_info.edges_to[t.id];return{...Object(s.getNodeShowInfo)({node:t,edge:a,totalSize:this.totalSize}),rowKey:`${a.name_or_index}_${a.from_node}`,hasParents:!(!n||!n.length)}}):[]},handleCurrentChange(e,t){this.currentNode=e}}},i=(a(361),a(19)),l=Object(i.a)(r,(function(){var e=this,t=e._self._c;return t("div",[t("el-card",[t("V8Snapshot-V8SnapshotFiles")],1),e._v(" "),t("br"),e._v(" "),t("el-card",[t("div",{attrs:{slot:"header"},slot:"header"},[e.activeSnapshot?t("div",[e._v(e._s(e.activeSnapshot.name))]):t("div",[e._v("未选择")])]),e._v(" "),t("div",[e.activeSnapshot?e.activeSnapshot.snapshot?t("el-table",{staticStyle:{width:"100%"},attrs:{data:e.rootList,"row-key":"rowKey","max-height":500,size:"small",lazy:"",load:e.load,"tree-props":{children:"children",hasChildren:"hasChildren"},"header-cell-style":{backgroundColor:"#f5f7fa"},"highlight-current-row":""},on:{"current-change":e.handleCurrentChange}},[t("el-table-column",{attrs:{prop:"name",sortable:"",label:"对象"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("span",{style:a.row.nameShowPrefixStyle},[e._v("\n              "+e._s(a.row.nameShowPrefix)+"\n            ")]),e._v(" "),t("span",[e._v(" :: ")]),e._v(" "),t("span",{style:a.row.nameShowStyle},[e._v("\n              "+e._s(a.row.nameShow)+"\n            ")]),e._v(" "),t("span",{staticClass:"sub-text"},[e._v(" @"+e._s(a.row.id))]),e._v(" "),a.row.reachableFromWindow?t("span",{attrs:{title:"可通过window访问的用户对象"}},[e._v(" 🀆")]):e._e(),e._v(" "),a.row.detachedDOMTreeNode?t("span",{attrs:{title:"脱离Dom树"}},[e._v(" 🀆")]):e._e()]}}])}),e._v(" "),t("el-table-column",{attrs:{prop:"distance",sortable:"",label:"距离",align:"right"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("span",[e._v(e._s(a.row.distanceShow))])]}}])}),e._v(" "),t("el-table-column",{attrs:{prop:"self_size",sortable:"",label:"浅层大小",align:"right"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("span",[e._v(e._s(a.row.self_size))]),e._v(" "),t("span",{staticClass:"sub-text"},[e._v("  "+e._s(a.row.selfSizePercent)+"%")])]}}])}),e._v(" "),t("el-table-column",{attrs:{prop:"retained_size",sortable:"",label:"保留大小",align:"right"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("span",[e._v(e._s(a.row.retained_size))]),e._v(" "),t("span",{staticClass:"sub-text"},[e._v("  "+e._s(a.row.retainedSizePercent)+"%")])]}}])})],1):t("div",{directives:[{name:"loading",rawName:"v-loading",value:!0,expression:"true"}]},[e._v("解析中...")]):t("div",[e._v("未选择")]),e._v(" "),t("el-tabs",{attrs:{type:"border-card"}},[t("el-tab-pane",{attrs:{label:"保留器"}},[e.currentNode?t("el-table",{staticStyle:{width:"100%"},attrs:{data:e.currentNodeParents,"row-key":"rowKey","max-height":500,size:"small",lazy:"",load:e.loadParents,"tree-props":{children:"parents",hasChildren:"hasParents"},"header-cell-style":{backgroundColor:"#f5f7fa"}}},[t("el-table-column",{attrs:{prop:"name",sortable:"",label:"对象"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("span",{style:a.row.nameShowPrefixStyle},[e._v("\n              "+e._s(a.row.nameShowPrefix)+"\n            ")]),e._v(" "),t("span",[e._v(" :: ")]),e._v(" "),t("span",{style:a.row.nameShowStyle},[e._v("\n              "+e._s(a.row.nameShow)+"\n            ")]),e._v(" "),t("span",{staticClass:"sub-text"},[e._v(" @"+e._s(a.row.id))]),e._v(" "),a.row.reachableFromWindow?t("span",{attrs:{title:"可通过window访问的用户对象"}},[e._v(" 🀆")]):e._e(),e._v(" "),a.row.detachedDOMTreeNode?t("span",{attrs:{title:"脱离Dom树"}},[e._v(" 🀆")]):e._e()]}}],null,!1,2638494699)}),e._v(" "),t("el-table-column",{attrs:{prop:"distance",sortable:"",label:"距离",align:"right"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("span",[e._v(e._s(a.row.distanceShow))])]}}],null,!1,3793119334)}),e._v(" "),t("el-table-column",{attrs:{prop:"self_size",sortable:"",label:"浅层大小",align:"right"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("span",[e._v(e._s(a.row.self_size))]),e._v(" "),t("span",{staticClass:"sub-text"},[e._v("  "+e._s(a.row.selfSizePercent)+"%")])]}}],null,!1,4104622787)}),e._v(" "),t("el-table-column",{attrs:{prop:"retained_size",sortable:"",label:"保留大小",align:"right"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("span",[e._v(e._s(a.row.retained_size))]),e._v(" "),t("span",{staticClass:"sub-text"},[e._v("  "+e._s(a.row.retainedSizePercent)+"%")])]}}],null,!1,3982463107)})],1):e._e()],1)],1)],1)])],1)}),[],!1,null,"1e68131c",null);t.default=l.exports}}]);