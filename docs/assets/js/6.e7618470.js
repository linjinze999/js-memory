(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{336:function(t,e,n){},357:function(t,e,n){"use strict";n(336)},363:function(t,e,n){"use strict";n.r(e);var s=n(34);function i(t){return new Promise((e,n)=>{const s=t.name,i=new FileReader;i.onload=function(t){e({name:s,text:t.target.result})},i.onerror=function(){n()},i.readAsText(t)})}const{mapState:a,mapGetters:o,mapActions:c}=Object(s.a)("V8Snapshot");var r={name:"V8SnapshotFiles",data:()=>({dialogImageUrl:"",dialogVisible:!1,disabled:!1}),computed:{...a({snapshotList:t=>t.snapshotList}),...o(["activeSnapshot"])},methods:{showInput(){this.$refs.input.dispatchEvent(new MouseEvent("click"))},onInput(){(function(t){const e=[];for(let n=0;n<t.length;n++)e.push(i(t[n]));return Promise.all(e)})(this.$refs.input.files).then(t=>{this.addSnapshot(t)}).catch(()=>{this.$message.error("读取文件出错")})},onRemove(t){this.$confirm(`是否删除《${t.name}》`,"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{this.removeSnapshot({snapshotList:[t]})}).catch(()=>{})},updateActive(t){this.updateActiveSnapshot(t)},...c(["addSnapshot","updateActiveSnapshot","removeSnapshot"])}},p=(n(357),n(19)),l=Object(p.a)(r,(function(){var t=this,e=t._self._c;return e("div",[e("div",{staticStyle:{"font-weight":"bold","border-bottom":"1px solid #dcdfe6","padding-bottom":"10px",margin:"10px"}},[t._v("\n    当前快照：\n  ")]),t._v(" "),e("div",{staticClass:"snapshot-list"},[e("input",{ref:"input",staticClass:"input",attrs:{type:"file",accept:".heapsnapshot"},on:{change:t.onInput}}),t._v(" "),t._l(t.snapshotList,(function(n){return e("div",{directives:[{name:"loading",rawName:"v-loading",value:n.progress<1,expression:"item.progress < 1"}],key:n.name,staticClass:"item",class:{active:n.id===t.activeSnapshot.id},attrs:{"element-loading-text":n.progressText},on:{click:function(e){return t.updateActive(n)}}},[t._v("\n      "+t._s(n.name)+"\n      "),1!==n.id?e("i",{staticClass:"el-icon-delete delete",on:{click:function(e){return t.onRemove(n)}}}):t._e()])})),t._v(" "),e("i",{staticClass:"el-icon-plus item add",on:{click:t.showInput}})],2)])}),[],!1,null,"2150e126",null);e.default=l.exports}}]);